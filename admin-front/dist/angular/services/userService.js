/*
 AugustoLemble 2016-02-12 
*/
angular.module("ALapp.services").factory("userService",["$http","$window","sessionService",function(a,b,c){function d(b){var c=a(b).then(function(a){return"bad auth"==a.data.err&&$("#authModal").modal("show"),a},function(a){return a});return c}var e=c.getItem("auth")||"",f="http://"+b.location.hostname+":3011",g={};return a.defaults.headers.common.auth=e.toString(),g.getPosts=function(a,b,c){var e=d({method:"GET",url:f+"/getPosts",params:{findBy:a,skip:b,sort:c}});return e},g.getMonths=function(){var a=d({method:"GET",url:f+"/getMonths",params:{}});return a},g.getCategories=function(){var a=d({method:"GET",url:f+"/getCategories"});return a},g.getPost=function(a){var b=d({method:"GET",url:f+"/getPost",params:{id:a}});return b},g.createPost=function(){var a=d({method:"POST",url:f+"/createPost"});return a},g.createPost=function(a,b,c,e,g,h){var i=d({method:"POST",url:f+"/createPost",params:{titleEs:a,titleEn:b,img:c,categories:e,bodyEn:h,bodyEs:g}});return i},g.editPost=function(a,b,c,e,g,h,i){var j=d({method:"POST",url:f+"/editPost",params:{titleEs:a,titleEn:b,img:c,categories:e,bodyEn:h,bodyEs:g,id:i}});return j},g.publishPost=function(a){var b=d({method:"POST",url:f+"/publishPost",params:{id:a}});return b},g.draftPost=function(a){var b=d({method:"POST",url:f+"/draftPost",params:{id:a}});return b},g.deletePost=function(a){var b=d({method:"POST",url:f+"/deletePost",params:{id:a}});return b},g.deleteComment=function(a,b){var c=d({method:"POST",url:f+"/deleteComment",params:{postID:a,commentID:b}});return c},g.uploadImages=function(a){var b=d({method:"POST",url:f+"/uploadImages",data:{images:a}});return b},g.deleteImage=function(a){var b=d({method:"POST",url:f+"/deleteImage",params:{name:a}});return b},g.changeNameImg=function(a,b){var c=d({method:"POST",url:f+"/changeNameImg",params:{id:a,name:b}});return c},g.getImages=function(){var a=d({method:"GET",url:f+"/getImages"});return a},g}]);